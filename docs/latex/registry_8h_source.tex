\doxysection{registry.\+h}
\hypertarget{registry_8h_source}{}\label{registry_8h_source}\index{includes/fecs/registry/registry.h@{includes/fecs/registry/registry.h}}
\mbox{\hyperlink{registry_8h}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ }
\DoxyCodeLine{00005\ }
\DoxyCodeLine{00006\ \textcolor{preprocessor}{\#pragma\ once}}
\DoxyCodeLine{00007\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{sparse__set_8h}{fecs/containers/sparse\_set.h}}>}}
\DoxyCodeLine{00008\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{component__manager_8h}{fecs/manager/component\_manager.h}}>}}
\DoxyCodeLine{00009\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{entity__manager_8h}{fecs/manager/entity\_manager.h}}>}}
\DoxyCodeLine{00010\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{view__manager_8h}{fecs/manager/view\_manager.h}}>}}
\DoxyCodeLine{00011\ }
\DoxyCodeLine{00012\ \textcolor{keyword}{namespace\ }FECS}
\DoxyCodeLine{00013\ \{}
\DoxyCodeLine{00014\ \ \ \ \ \textcolor{keyword}{using\ namespace\ }FECS::Manager;}
\DoxyCodeLine{00015\ }
\DoxyCodeLine{00023\ \ \ \ \ \textcolor{keyword}{class\ }\mbox{\hyperlink{class_f_e_c_s_1_1_registry_a1a14336969412c79e6474fbaf441c55a}{Registry}}}
\DoxyCodeLine{00024\ \ \ \ \ \{}
\DoxyCodeLine{00025\ \ \ \ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{00029\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_f_e_c_s_1_1_registry_a1a14336969412c79e6474fbaf441c55a}{Registry}}()}
\DoxyCodeLine{00030\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00031\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00032\ }
\DoxyCodeLine{00037\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{types_8h_abf3962244e98187a2945549333981904}{Entity}}\ \mbox{\hyperlink{class_f_e_c_s_1_1_registry_ac7e1335ab98932b2260e6b392d22470e}{CreateEntity}}()}
\DoxyCodeLine{00038\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00039\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Create\ an\ entity}}
\DoxyCodeLine{00040\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ m\_EntityManager.Create();}
\DoxyCodeLine{00041\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00042\ }
\DoxyCodeLine{00047\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_f_e_c_s_1_1_registry_a9d3532d45f3f909fb87bc1044adda1db}{DestroyEntity}}(\mbox{\hyperlink{types_8h_abf3962244e98187a2945549333981904}{Entity}}\ \textcolor{keywordtype}{id})}
\DoxyCodeLine{00048\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00049\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Remove\ the\ entity\ from\ all\ components}}
\DoxyCodeLine{00050\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_f_e_c_s_1_1_manager_1_1_component_manager_ab039a15908a1cfee983a1e8273320ff1}{ComponentManager::DeleteEntity}}(\textcolor{keywordtype}{id});}
\DoxyCodeLine{00051\ }
\DoxyCodeLine{00052\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Signal\ change\ in\ version\ for\ all}}
\DoxyCodeLine{00053\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_f_e_c_s_1_1_manager_1_1_component_manager_afe58a0838fd44137a3062811adb89622}{ComponentManager::GetVersion<GlobalComponent>}}()++;}
\DoxyCodeLine{00054\ }
\DoxyCodeLine{00055\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Destroy\ the\ entity}}
\DoxyCodeLine{00056\ \ \ \ \ \ \ \ \ \ \ \ \ m\_EntityManager.Destroy(\textcolor{keywordtype}{id});}
\DoxyCodeLine{00057\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00058\ }
\DoxyCodeLine{00064\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{class_f_e_c_s_1_1_registry_a9a91303c57facd0f95673e8e5e4da927}{IsEntityAlive}}(\mbox{\hyperlink{types_8h_abf3962244e98187a2945549333981904}{Entity}}\ \textcolor{keywordtype}{id})\textcolor{keyword}{\ const}}
\DoxyCodeLine{00065\ \textcolor{keyword}{\ \ \ \ \ \ \ \ }\{}
\DoxyCodeLine{00066\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ m\_EntityManager.IsAlive(\textcolor{keywordtype}{id});}
\DoxyCodeLine{00067\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00068\ }
\DoxyCodeLine{00073\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_f_e_c_s_1_1_manager_1_1_entity_manager}{EntityManager}}\&\ \mbox{\hyperlink{class_f_e_c_s_1_1_registry_ad197134f25109629af130fb50d1d12ca}{GetEntityManager}}()}
\DoxyCodeLine{00074\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00075\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ m\_EntityManager;}
\DoxyCodeLine{00076\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00077\ }
\DoxyCodeLine{00082\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_f_e_c_s_1_1_registry_a2e14dcaa1b9a5354cd29a09eafbb17df}{Reserve}}(std::size\_t\ size)}
\DoxyCodeLine{00083\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00084\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Reserve\ the\ number\ of\ components\ to\ be\ used}}
\DoxyCodeLine{00085\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_f_e_c_s_1_1_manager_1_1_component_manager_a127794c4a13c25c1e66f8ae15f394178}{ComponentManager::Reserve}}(size);}
\DoxyCodeLine{00086\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00087\ }
\DoxyCodeLine{00093\ \ \ \ \ \ \ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{00094\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_f_e_c_s_1_1_container_1_1_sparse_set}{Container::SparseSet<T>}}\&\ \mbox{\hyperlink{class_f_e_c_s_1_1_registry_afecf6a15df6148fdcd2be17dd758ada0}{RegisterComponent}}()}
\DoxyCodeLine{00095\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00096\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Register\ the\ component}}
\DoxyCodeLine{00097\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{class_f_e_c_s_1_1_manager_1_1_component_manager_a112909cdecc309c2a32e633521ba83f9}{ComponentManager::GetPool<T>}}(\&m\_EntityManager);}
\DoxyCodeLine{00098\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00099\ }
\DoxyCodeLine{00107\ \ \ \ \ \ \ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{00108\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_f_e_c_s_1_1_container_1_1_sparse_set}{Container::SparseSet<T>}}\&\ \mbox{\hyperlink{class_f_e_c_s_1_1_registry_aa49eed97dcc641d52c41b2c484143714}{GetPool}}()}
\DoxyCodeLine{00109\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00110\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Get\ the\ component,\ and\ register\ it\ if\ it\ doesnt\ exist\ already}}
\DoxyCodeLine{00111\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{class_f_e_c_s_1_1_manager_1_1_component_manager_a112909cdecc309c2a32e633521ba83f9}{ComponentManager::GetPool<T>}}(\&m\_EntityManager);}
\DoxyCodeLine{00112\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00113\ }
\DoxyCodeLine{00120\ \ \ \ \ \ \ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{00121\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_f_e_c_s_1_1_registry_a0ac5062351ba88a9c1e9bdff2f8a3ca1}{Attach}}(\mbox{\hyperlink{types_8h_abf3962244e98187a2945549333981904}{Entity}}\ e,\ \textcolor{keyword}{const}\ T\&\ component)}
\DoxyCodeLine{00122\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00123\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Get\ the\ component\ pool,\ and\ insert\ the\ component\ for\ that\ entity}}
\DoxyCodeLine{00124\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_f_e_c_s_1_1_container_1_1_sparse_set}{Container::SparseSet<T>}}\&\ set\ =\ \mbox{\hyperlink{class_f_e_c_s_1_1_manager_1_1_component_manager_a112909cdecc309c2a32e633521ba83f9}{ComponentManager::GetPool<T>}}(\&m\_EntityManager);}
\DoxyCodeLine{00125\ \ \ \ \ \ \ \ \ \ \ \ \ set.\mbox{\hyperlink{class_f_e_c_s_1_1_container_1_1_sparse_set_a7b77df9af34630211230f6573c9f5881}{Insert}}(e,\ component);}
\DoxyCodeLine{00126\ }
\DoxyCodeLine{00127\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Update\ the\ component's\ version\ to\ signal}}
\DoxyCodeLine{00128\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_f_e_c_s_1_1_manager_1_1_component_manager_afe58a0838fd44137a3062811adb89622}{ComponentManager::GetVersion<T>}}()++;}
\DoxyCodeLine{00129\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00130\ }
\DoxyCodeLine{00137\ \ \ \ \ \ \ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{00138\ \ \ \ \ \ \ \ \ T\&\ \mbox{\hyperlink{class_f_e_c_s_1_1_registry_a1e2dbcb46064138e70eaaea1bcf7f9ac}{Get}}(\mbox{\hyperlink{types_8h_abf3962244e98187a2945549333981904}{Entity}}\ e)}
\DoxyCodeLine{00139\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00140\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Get\ the\ component\ pool,\ and\ return\ the\ component\ associated\ with\ the\ entity}}
\DoxyCodeLine{00141\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_f_e_c_s_1_1_container_1_1_sparse_set}{Container::SparseSet<T>}}\&\ set\ =\ \mbox{\hyperlink{class_f_e_c_s_1_1_manager_1_1_component_manager_a112909cdecc309c2a32e633521ba83f9}{ComponentManager::GetPool<T>}}(\&m\_EntityManager);}
\DoxyCodeLine{00142\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ set.\mbox{\hyperlink{class_f_e_c_s_1_1_container_1_1_sparse_set_ab22e0ef86622fe1d5178d6c1b6b8eca0}{Get}}(e);}
\DoxyCodeLine{00143\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00144\ }
\DoxyCodeLine{00150\ \ \ \ \ \ \ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{00151\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_f_e_c_s_1_1_registry_a78b85b929c65b15f8ed22b1519ff4f74}{Detach}}(\mbox{\hyperlink{types_8h_abf3962244e98187a2945549333981904}{Entity}}\ e)}
\DoxyCodeLine{00152\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00153\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Get\ the\ component\ pool,\ and\ remove\ the\ component\ associated\ with\ the\ entity}}
\DoxyCodeLine{00154\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_f_e_c_s_1_1_container_1_1_sparse_set}{Container::SparseSet<T>}}\&\ set\ =\ \mbox{\hyperlink{class_f_e_c_s_1_1_manager_1_1_component_manager_a112909cdecc309c2a32e633521ba83f9}{ComponentManager::GetPool<T>}}(\&m\_EntityManager);}
\DoxyCodeLine{00155\ \ \ \ \ \ \ \ \ \ \ \ \ set.\mbox{\hyperlink{class_f_e_c_s_1_1_container_1_1_sparse_set_a3c2ce8e40f53ffa5e2e4e0d2d2421ed2}{Remove}}(e);}
\DoxyCodeLine{00156\ }
\DoxyCodeLine{00157\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Update\ the\ component's\ version\ to\ signal}}
\DoxyCodeLine{00158\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_f_e_c_s_1_1_manager_1_1_component_manager_afe58a0838fd44137a3062811adb89622}{ComponentManager::GetVersion<T>}}()++;}
\DoxyCodeLine{00159\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00160\ }
\DoxyCodeLine{00166\ \ \ \ \ \ \ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{00167\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{class_f_e_c_s_1_1_registry_a17629195de0e1d5f1ccf600c1dde9243}{Has}}(\mbox{\hyperlink{types_8h_abf3962244e98187a2945549333981904}{Entity}}\ e)}
\DoxyCodeLine{00168\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00169\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Get\ the\ component\ pool,\ and\ check\ the\ component\ associated\ with\ the\ entity}}
\DoxyCodeLine{00170\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_f_e_c_s_1_1_container_1_1_sparse_set}{Container::SparseSet<T>}}\&\ set\ =\ \mbox{\hyperlink{class_f_e_c_s_1_1_manager_1_1_component_manager_a112909cdecc309c2a32e633521ba83f9}{ComponentManager::GetPool<T>}}(\&m\_EntityManager);}
\DoxyCodeLine{00171\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ set.\mbox{\hyperlink{class_f_e_c_s_1_1_container_1_1_sparse_set_a0aed325ccd42286cb3ffa691faf4920a}{Has}}(e);}
\DoxyCodeLine{00172\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00173\ }
\DoxyCodeLine{00179\ \ \ \ \ \ \ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}...\ C>}
\DoxyCodeLine{00180\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_f_e_c_s_1_1_view}{FECS::View}}<C...>\ \mbox{\hyperlink{class_f_e_c_s_1_1_registry_ab8aa98c7c8b4604f9f8da8db7dbec6a5}{View}}()}
\DoxyCodeLine{00181\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00182\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Create\ and\ return\ the\ view\ created}}
\DoxyCodeLine{00183\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{class_f_e_c_s_1_1_view}{FECS::View}}<C...>(\&m\_EntityManager);}
\DoxyCodeLine{00184\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00185\ }
\DoxyCodeLine{00186\ \ \ \ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{00187\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_f_e_c_s_1_1_manager_1_1_entity_manager}{Manager::EntityManager}}\ m\_EntityManager;\ }
\DoxyCodeLine{00188\ \ \ \ \ \};}
\DoxyCodeLine{00189\ \}}

\end{DoxyCode}
